{"ast":null,"code":"var _jsxFileName = \"D:\\\\social-media-analyzer\\\\client\\\\src\\\\pages\\\\UploadPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport FileDropzone from '../components/FileDropzone';\nimport Loader from '../components/Loader';\nimport { uploadFile } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UploadPage() {\n  _s();\n  const [status, setStatus] = useState('idle');\n  const [uploaded, setUploaded] = useState(null);\n  const [error, setError] = useState(null);\n  const handleFiles = async files => {\n    setError(null);\n    setStatus('uploading');\n    try {\n      const file = files[0];\n      const resp = await uploadFile(file, evt => {});\n      setUploaded(resp.data);\n      setStatus('done');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || err.message);\n      setStatus('error');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Upload (PDF / Image)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FileDropzone, {\n      onFiles: handleFiles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 12\n      },\n      children: [status === 'uploading' && /*#__PURE__*/_jsxDEV(Loader, {\n        text: \"Extracting text...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 36\n      }, this), status === 'done' && uploaded && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"File:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 16\n          }, this), \" \", uploaded.filename]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Extracted text (first 400 chars):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          className: \"excerpt\",\n          children: uploaded.text.slice(0, 400)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Now go to \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Analyze\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 26\n          }, this), \" page to run suggestions and save to history.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }, this), status === 'error' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(UploadPage, \"ri1C/cpio0K9Efd12c0lURNJJZI=\");\n_c = UploadPage;\nvar _c;\n$RefreshReg$(_c, \"UploadPage\");","map":{"version":3,"names":["React","useState","FileDropzone","Loader","uploadFile","jsxDEV","_jsxDEV","UploadPage","_s","status","setStatus","uploaded","setUploaded","error","setError","handleFiles","files","file","resp","evt","data","err","_err$response","_err$response$data","console","response","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onFiles","style","marginTop","text","filename","slice","_c","$RefreshReg$"],"sources":["D:/social-media-analyzer/client/src/pages/UploadPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport FileDropzone from '../components/FileDropzone';\nimport Loader from '../components/Loader';\nimport { uploadFile } from '../services/api';\n\nexport default function UploadPage() {\n  const [status, setStatus] = useState('idle');\n  const [uploaded, setUploaded] = useState(null);\n  const [error, setError] = useState(null);\n\n  const handleFiles = async (files) => {\n    setError(null);\n    setStatus('uploading');\n    try {\n      const file = files[0];\n      const resp = await uploadFile(file, (evt) => {});\n      setUploaded(resp.data);\n      setStatus('done');\n    } catch (err) {\n      console.error(err);\n      setError(err.response?.data?.error || err.message);\n      setStatus('error');\n    }\n  };\n\n  return (\n    <div className=\"page\">\n      <h2>Upload (PDF / Image)</h2>\n      <FileDropzone onFiles={handleFiles} />\n      <div style={{marginTop:12}}>\n        {status === 'uploading' && <Loader text=\"Extracting text...\" />}\n        {status === 'done' && uploaded && (\n          <div>\n            <p><strong>File:</strong> {uploaded.filename}</p>\n            <p><strong>Extracted text (first 400 chars):</strong></p>\n            <pre className=\"excerpt\">{uploaded.text.slice(0,400)}</pre>\n            <p>Now go to <b>Analyze</b> page to run suggestions and save to history.</p>\n          </div>\n        )}\n        {status === 'error' && <div className=\"error\">Error: {error}</div>}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}