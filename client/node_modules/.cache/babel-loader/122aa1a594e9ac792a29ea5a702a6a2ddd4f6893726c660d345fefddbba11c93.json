{"ast":null,"code":"var _jsxFileName = \"D:\\\\social-media-analyzer\\\\client\\\\src\\\\pages\\\\AnalyzePage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { analyzeText, fetchHistory } from '../services/api';\nimport Loader from '../components/Loader';\nimport './AnalyzePage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AnalyzePage() {\n  _s();\n  const [text, setText] = useState('');\n  const [title, setTitle] = useState('');\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [history, setHistory] = useState([]);\n  useEffect(() => {\n    refreshHistory();\n  }, []);\n  async function refreshHistory() {\n    try {\n      const r = await fetchHistory();\n      setHistory(r.data);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  const handleAnalyze = async () => {\n    if (!text.trim()) return alert('Enter or paste text to analyze (or upload via Upload page).');\n    setLoading(true);\n    try {\n      const res = await analyzeText({\n        title,\n        text\n      });\n      setResult(res.data);\n      await refreshHistory();\n    } catch (e) {\n      console.error(e);\n      alert('Analyze failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Analyze\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Title (optional)\",\n        value: title,\n        onChange: e => setTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Paste extracted text or type content here...\",\n        value: text,\n        onChange: e => setText(e.target.value),\n        rows: 8\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAnalyze,\n        children: \"Analyze & Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"analysis\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Result (Score: \", result.analysis.score, \"/100)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Words: \", result.analysis.wordCount, \" \\xB7 Sentences: \", result.analysis.sentences, \" \\xB7 Avg words/sentence: \", result.analysis.avgWordsPerSentence]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Suggestions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: result.analysis.suggestions.map((s, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: s\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 53\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        className: \"excerpt\",\n        children: result.text.slice(0, 500)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Recent history (server)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), history.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No history\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 31\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: history.map(it => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: it.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this), \" \\u2014 \", new Date(it.createdAt).toLocaleString(), \" \\u2014 Score: \", it.analysis.score]\n        }, it.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(AnalyzePage, \"+MGU+l2lqb70b81iM5XyocXu0J8=\");\n_c = AnalyzePage;\nvar _c;\n$RefreshReg$(_c, \"AnalyzePage\");","map":{"version":3,"names":["React","useEffect","useState","analyzeText","fetchHistory","Loader","jsxDEV","_jsxDEV","AnalyzePage","_s","text","setText","title","setTitle","result","setResult","loading","setLoading","history","setHistory","refreshHistory","r","data","e","console","error","handleAnalyze","trim","alert","res","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","target","rows","onClick","analysis","score","wordCount","sentences","avgWordsPerSentence","suggestions","map","s","i","slice","style","marginTop","length","it","Date","createdAt","toLocaleString","id","_c","$RefreshReg$"],"sources":["D:/social-media-analyzer/client/src/pages/AnalyzePage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { analyzeText, fetchHistory } from '../services/api';\nimport Loader from '../components/Loader';\nimport './AnalyzePage.css';\n\nexport default function AnalyzePage() {\n  const [text, setText] = useState('');\n  const [title, setTitle] = useState('');\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [history, setHistory] = useState([]);\n\n  useEffect(()=>{ refreshHistory(); }, []);\n  async function refreshHistory() {\n    try {\n      const r = await fetchHistory();\n      setHistory(r.data);\n    } catch (e) { console.error(e); }\n  }\n\n  const handleAnalyze = async () => {\n    if (!text.trim()) return alert('Enter or paste text to analyze (or upload via Upload page).');\n    setLoading(true);\n    try {\n      const res = await analyzeText({ title, text });\n      setResult(res.data);\n      await refreshHistory();\n    } catch (e) {\n      console.error(e);\n      alert('Analyze failed');\n    } finally { setLoading(false); }\n  };\n\n  return (\n    <div className=\"page\">\n      <h2>Analyze</h2>\n      <div>\n        <input placeholder=\"Title (optional)\" value={title} onChange={e=>setTitle(e.target.value)} />\n      </div>\n      <div>\n        <textarea placeholder=\"Paste extracted text or type content here...\" value={text} onChange={e=>setText(e.target.value)} rows={8} />\n      </div>\n      <div>\n        <button onClick={handleAnalyze}>Analyze & Save</button>\n        {loading && <Loader />}\n      </div>\n\n      {result && (\n        <div className=\"analysis\">\n          <h3>Result (Score: {result.analysis.score}/100)</h3>\n          <p>Words: {result.analysis.wordCount} · Sentences: {result.analysis.sentences} · Avg words/sentence: {result.analysis.avgWordsPerSentence}</p>\n          <h4>Suggestions</h4>\n          <ul>\n            {result.analysis.suggestions.map((s,i)=><li key={i}>{s}</li>)}\n          </ul>\n          <pre className=\"excerpt\">{result.text.slice(0,500)}</pre>\n        </div>\n      )}\n\n      <div style={{marginTop:20}}>\n        <h3>Recent history (server)</h3>\n        {history.length===0 ? <p>No history</p> : (\n          <ul>\n            {history.map(it=>(\n              <li key={it.id}>\n                <b>{it.title}</b> — {new Date(it.createdAt).toLocaleString()} — Score: {it.analysis.score}\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}