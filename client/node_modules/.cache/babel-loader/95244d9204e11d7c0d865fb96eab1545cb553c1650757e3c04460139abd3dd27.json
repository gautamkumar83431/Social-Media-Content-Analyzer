{"ast":null,"code":"var _jsxFileName = \"D:\\\\social-media-analyzer\\\\client\\\\src\\\\pages\\\\HistoryPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { fetchHistory, deleteHistoryItem } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HistoryPage() {\n  _s();\n  const [history, setHistory] = useState([]);\n  useEffect(() => {\n    load();\n  }, []);\n  async function load() {\n    try {\n      const r = await fetchHistory();\n      setHistory(r.data);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  async function remove(id) {\n    if (!window.confirm('Delete this item?')) return;\n    try {\n      await deleteHistoryItem(id);\n      load();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), history.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No saved analyses.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 29\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: history.map(it => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"history-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: it.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: new Date(it.createdAt).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => remove(it.id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Score: \", it.analysis.score, \" \\u2014 \", it.analysis.suggestions.join(' / ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          className: \"excerpt\",\n          children: it.text.slice(0, 400)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 15\n        }, this)]\n      }, it.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n}\n_s(HistoryPage, \"PUqjgfw0ccPwtx6QxD6fWqJYeMQ=\");\n_c = HistoryPage;\nvar _c;\n$RefreshReg$(_c, \"HistoryPage\");","map":{"version":3,"names":["React","useEffect","useState","fetchHistory","deleteHistoryItem","jsxDEV","_jsxDEV","HistoryPage","_s","history","setHistory","load","r","data","e","console","error","remove","id","window","confirm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","it","title","Date","createdAt","toLocaleString","onClick","analysis","score","suggestions","join","text","slice","_c","$RefreshReg$"],"sources":["D:/social-media-analyzer/client/src/pages/HistoryPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { fetchHistory, deleteHistoryItem } from '../services/api';\n\nexport default function HistoryPage() {\n  const [history, setHistory] = useState([]);\n  useEffect(()=>{ load(); }, []);\n  async function load() {\n    try {\n      const r = await fetchHistory();\n      setHistory(r.data);\n    } catch (e) { console.error(e); }\n  }\n  async function remove(id) {\n    if(!window.confirm('Delete this item?')) return;\n    try {\n      await deleteHistoryItem(id);\n      load();\n    } catch (e) { console.error(e); }\n  }\n  return (\n    <div className=\"page\">\n      <h2>History</h2>\n      {history.length===0 ? <p>No saved analyses.</p> : (\n        <div>\n          {history.map(it => (\n            <div key={it.id} className=\"history-item\">\n              <div className=\"h-title\">\n                <strong>{it.title}</strong>\n                <small>{new Date(it.createdAt).toLocaleString()}</small>\n                <button onClick={()=>remove(it.id)}>Delete</button>\n              </div>\n              <div>Score: {it.analysis.score} â€” {it.analysis.suggestions.join(' / ')}</div>\n              <pre className=\"excerpt\">{it.text.slice(0,400)}</pre>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}